# 接口自动化测试
### 接口基础知识
1. 接口的分类
- 程序接口：提供了输入输出的的类、方法或函数
- 协议接口：系统通过不同的协议提供的接口（http/soap协议）
- 按照系统的调用方式：
  + 系统与系统之间的接口
  + 上层服务与下层服务的接口
  + 系统内部，服务与服务之间的接口
2. 接口的意义：
- 实现前后端分离，后端为前端提供接口，前端只需专注于数据的展示和页面的交互的设计
- 提供与数据库交互的功能，如增删改查，前端只需调用这些接口就可以完成数据的处理
3. web接口的构成
- 协议(http)
- 数据格式（json）
4. 接口的常用测试工具
- httprequester、postman
- 自动化测试工具：jmeter、robotframework、 soapUI
- 性能测试工具：jmeter、loadrunner、soapUI
### 接口自动化测试框架
1. 普通接口测试工具缺点
- 测试数据不可控（初始化）
- 加密接口无法测
- 扩展能力不足（持续集成）
2. 框架搭建
- unittest库+request库
- HTMLTestRunner生成测试报告
- 集成初始化测试数据的功能（测试时不用正式的数据库，因此需要配置测试数据库，并自动生成测试数据，专门用来测试）
  + 修改数据库配置（settings）
  + 编写db_config.ini文件配置数据库信息
  + 编写mysql_db.py文件，创建DB类，定义init（连接数据库）/clear（清除表数据）/insert（插入表数据）/close（关闭数据库连接）方法处理测试数据库中的数据
  + test_data.py文件，创建测试数据，调用clear等方法，初始化测试数据库
  + 在测试用例main中调用test_data方法先初始化数据，再进行测试